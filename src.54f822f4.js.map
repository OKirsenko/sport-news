{"version":3,"sources":["index.js"],"names":["news","document","querySelector","moreBtn","headerListEl","pageCount","category","baseUrl","fetchNews","url","fetch","then","response","ok","Error","status","json","catch","err","console","log","articleMarkup","data","articles","markup","map","article","urlToImage","author","title","description","join","insertAdjacentHTML","onMoreBtnClick","onHeaderListClick","event","target","nodeName","dataset","value","innerHTML","addEventListener"],"mappings":";;;AAuEA,aAvEA,QAAA,oBAEA,MAAMA,EAAOC,SAASC,cAAc,cAC9BC,EAAUF,SAASC,cAAc,aACjCE,EAAeH,SAASC,cAAc,gBAE5C,IAAIG,EAAY,EACZC,EAAW,UACXC,8DAAsED,qBAA4BD,4CAMtG,SAASG,EAAUC,GACVC,OAAAA,MAAMD,GACVE,KAAKC,IACA,IAACA,EAASC,GACN,MAAA,IAAIC,MAAMF,EAASG,QAEpBH,OAAAA,EAASI,SAEjBC,MAAMC,IACLC,QAAQC,IAAIF,KAIlB,SAASG,EAAcC,GACfC,MACAC,EADWF,EAAKC,SAEnBE,IAAIC,IAEwB,OAAvBA,EAAQC,aACVD,EAAQC,WACN,wKAI0BD,EAAQjB,wBAAwBiB,EAAQE,+BAC9DF,EAAQC,oBAAoBD,EAAQE,qEAErBF,EAAQG,yCACTH,EAAQI,6BACrBJ,EAAQjB,uFAKlBsB,KAAK,IAER/B,EAAKgC,mBAAmB,YAAaR,GAGvC,SAASS,IAIPzB,8DAF0EF,qBAD1ED,GAAa,6CAGMM,KAAKU,GAG1B,SAASa,EAAkBC,GACK,OAA1BA,EAAMC,OAAOC,WAEjB/B,EAAW6B,EAAMC,OAAOE,QAAQC,MAChChC,8DAAsED,qBAA4BD,4CAClGc,QAAQC,IAAIb,GACZP,EAAKwC,UAAY,GACjBhC,EAAUD,GAASI,KAAKU,IAzD1Bb,EAAUD,GACPI,KAAKU,GACLJ,MAAMC,GAAOC,QAAQC,IAAIF,IAyD5Bf,EAAQsC,iBAAiB,QAASR,GAClC7B,EAAaqC,iBAAiB,QAASP,GACvCf,QAAQC,IAAId","file":"src.54f822f4.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst news = document.querySelector('.news-wrap');\nconst moreBtn = document.querySelector('.more-btn');\nconst headerListEl = document.querySelector('.header-list');\n\nlet pageCount = 1;\nlet category = 'general';\nlet baseUrl = `https://newsapi.org/v2/top-headlines?country=ua&category=${category}&pageSize=3&page=${pageCount}&apiKey=58507d4f9e44467cac1401fbd4d3c576`;\n\nfetchNews(baseUrl)\n  .then(articleMarkup)\n  .catch(err => console.log(err));\n\nfunction fetchNews(url) {\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\nfunction articleMarkup(data) {\n  const articles = data.articles;\n  const markup = articles\n    .map(article => {\n      //   console.log(article.urlToImage);\n      if (article.urlToImage === null) {\n        article.urlToImage =\n          'https://www.akc.org/wp-content/uploads/2017/11/Rottweiler-puppy-fetching-a-toy-in-the-grass.jpeg';\n      }\n      return `\n    <div class=\"news-card\">\n  <p class=\"news-author\"><a href=\"${article.url}\" target=\"_blank\">${article.author}</a></p>\n  <img src=\"${article.urlToImage}\" alt=\"${article.author}\" />\n  <div class=\"news-text\">\n    <h2 class=\"news-title\">${article.title}</h2>\n    <p class=\"news-descr\">${article.description}\n    <a href=\"${article.url}\" class=\"news-link\" target=\"_blank\">Читати далі</a>\n    </p>\n  </div>\n</div>`;\n    })\n    .join('');\n  // console.log(markup);\n  news.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onMoreBtnClick() {\n  pageCount += 1;\n  let baseUrl = `https://newsapi.org/v2/top-headlines?country=ua&category=${category}&pageSize=3&page=${pageCount}&apiKey=58507d4f9e44467cac1401fbd4d3c576`;\n  //   console.log(baseUrl);\n  fetchNews(baseUrl).then(articleMarkup);\n}\n\nfunction onHeaderListClick(event) {\n  if (event.target.nodeName !== 'LI') return;\n  // console.log(category);\n  category = event.target.dataset.value;\n  baseUrl = `https://newsapi.org/v2/top-headlines?country=ua&category=${category}&pageSize=3&page=${pageCount}&apiKey=58507d4f9e44467cac1401fbd4d3c576`;\n  console.log(baseUrl);\n  news.innerHTML = '';\n  fetchNews(baseUrl).then(articleMarkup);\n}\nmoreBtn.addEventListener('click', onMoreBtnClick);\nheaderListEl.addEventListener('click', onHeaderListClick);\nconsole.log(category);\n"]}