{"version":3,"sources":["index.js"],"names":["news","document","querySelector","moreBtn","headerListEl","pageCount","category","baseUrl","fetchNews","url","fetch","then","response","ok","Error","status","json","catch","err","console","log","articleMarkup","data","articles","markup","map","article","urlToImage","author","title","description","join","insertAdjacentHTML","onMoreBtnClick","onHeaderListClick","event","target","nodeName","dataset","value","innerHTML","addEventListener","images","heroEl","getImage","arr","Math","floor","random","length","style","backgroundRepeat","backgroundPosition","backgroundSize","backgroundImage","img","setInterval"],"mappings":";;;AA4FA,aA5FA,QAAA,oBAEA,MAAMA,EAAOC,SAASC,cAAc,cAC9BC,EAAUF,SAASC,cAAc,aACjCE,EAAeH,SAASC,cAAc,gBAE5C,IAAIG,EAAY,EACZC,EAAW,UACXC,8DAAsED,qBAA4BD,4CAMtG,SAASG,EAAUC,GACVC,OAAAA,MAAMD,GACVE,KAAKC,IACA,IAACA,EAASC,GACN,MAAA,IAAIC,MAAMF,EAASG,QAEpBH,OAAAA,EAASI,SAEjBC,MAAMC,IACLC,QAAQC,IAAIF,KAIlB,SAASG,EAAcC,GACfC,MACAC,EADWF,EAAKC,SAEnBE,IAAIC,IAEwB,OAAvBA,EAAQC,aACVD,EAAQC,WACN,wKAI0BD,EAAQjB,wBAAwBiB,EAAQE,+BAC9DF,EAAQC,oBAAoBD,EAAQE,qEAErBF,EAAQG,yCACTH,EAAQI,6BACrBJ,EAAQjB,uFAKlBsB,KAAK,IAER/B,EAAKgC,mBAAmB,YAAaR,GAGvC,SAASS,IAIPzB,8DAF0EF,qBAD1ED,GAAa,6CAGMM,KAAKU,GAG1B,SAASa,EAAkBC,GACK,OAA1BA,EAAMC,OAAOC,WAEjB/B,EAAW6B,EAAMC,OAAOE,QAAQC,MAChChC,8DAAsED,qBAA4BD,4CAClGc,QAAQC,IAAIb,GACZP,EAAKwC,UAAY,GACjBhC,EAAUD,GAASI,KAAKU,IAzD1Bb,EAAUD,GACPI,KAAKU,GACLJ,MAAMC,GAAOC,QAAQC,IAAIF,IAyD5Bf,EAAQsC,iBAAiB,QAASR,GAClC7B,EAAaqC,iBAAiB,QAASP,GACvCf,QAAQC,IAAId,GAGZ,MAAMoC,EAAS,CACb,iKACA,iKACA,iKACA,iKACA,iKACA,kKAEIC,EAAS1C,SAASC,cAAc,SAMtC,SAAS0C,EAASC,GACTA,OAAAA,EAAIC,KAAKC,MAAMD,KAAKE,SAAWH,EAAII,SAN5CN,EAAOO,MAAMC,iBAAmB,YAChCR,EAAOO,MAAME,mBAAqB,SAClCT,EAAOO,MAAMG,eAAiB,UAC9BV,EAAOO,MAAMI,uBAAyBZ,EAAO,MAM7C,MAAMa,EAAMC,YAAY,KAChBD,MAAAA,EAAMX,EAASF,GAErBC,EAAOO,MAAMI,uBAAyBC,MACrC","file":"src.46229065.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst news = document.querySelector('.news-wrap');\nconst moreBtn = document.querySelector('.more-btn');\nconst headerListEl = document.querySelector('.header-list');\n\nlet pageCount = 1;\nlet category = 'general';\nlet baseUrl = `https://newsapi.org/v2/top-headlines?country=ua&category=${category}&pageSize=6&page=${pageCount}&apiKey=58507d4f9e44467cac1401fbd4d3c576`;\n\nfetchNews(baseUrl)\n  .then(articleMarkup)\n  .catch(err => console.log(err));\n\nfunction fetchNews(url) {\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\nfunction articleMarkup(data) {\n  const articles = data.articles;\n  const markup = articles\n    .map(article => {\n      //   console.log(article.urlToImage);\n      if (article.urlToImage === null) {\n        article.urlToImage =\n          'https://www.akc.org/wp-content/uploads/2017/11/Rottweiler-puppy-fetching-a-toy-in-the-grass.jpeg';\n      }\n      return `\n    <div class=\"news-card\">\n  <p class=\"news-author\"><a href=\"${article.url}\" target=\"_blank\">${article.author}</a></p>\n  <img src=\"${article.urlToImage}\" alt=\"${article.author}\" />\n  <div class=\"news-text\">\n    <h2 class=\"news-title\">${article.title}</h2>\n    <p class=\"news-descr\">${article.description}\n    <a href=\"${article.url}\" class=\"news-link\" target=\"_blank\">Читати далі</a>\n    </p>\n  </div>\n</div>`;\n    })\n    .join('');\n  // console.log(markup);\n  news.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onMoreBtnClick() {\n  pageCount += 1;\n  let baseUrl = `https://newsapi.org/v2/top-headlines?country=ua&category=${category}&pageSize=6&page=${pageCount}&apiKey=58507d4f9e44467cac1401fbd4d3c576`;\n  //   console.log(baseUrl);\n  fetchNews(baseUrl).then(articleMarkup);\n}\n\nfunction onHeaderListClick(event) {\n  if (event.target.nodeName !== 'LI') return;\n  // console.log(category);\n  category = event.target.dataset.value;\n  baseUrl = `https://newsapi.org/v2/top-headlines?country=ua&category=${category}&pageSize=6&page=${pageCount}&apiKey=58507d4f9e44467cac1401fbd4d3c576`;\n  console.log(baseUrl);\n  news.innerHTML = '';\n  fetchNews(baseUrl).then(articleMarkup);\n}\nmoreBtn.addEventListener('click', onMoreBtnClick);\nheaderListEl.addEventListener('click', onHeaderListClick);\nconsole.log(category);\n\n//==================================================\nconst images = [\n  'https://randompicturegenerator.com/img/dog-generator/g9281b8866ef1125449a12d7a4c70cf447927acc7b311c089f7b516b4899395da54f384bd02a22e766263bbeba4104683_640.jpg',\n  'https://randompicturegenerator.com/img/dog-generator/g3126e61c75999e90a549252915c20f712abc3a1b50686b2b58622b3ec78105aa8a65aae0aef8d956c3b744c1cd50c849_640.jpg',\n  'https://randompicturegenerator.com/img/dog-generator/g69060b1857cf2f0e7ed5119947c403947404e6857fb4aa85c377e7db82da0e834e500972187f8e565ac1a75bf64111ef_640.jpg',\n  'https://randompicturegenerator.com/img/dog-generator/gb066a2042cffd0262bd779a54f67ea2f585951e7ca67f0846441c2e9abfc293a197518673ce1e6d1027484890d704476_640.jpg',\n  'https://randompicturegenerator.com/img/dog-generator/gca6a8e6d4bece74cfd92dc632694b4462bf8aafc1364e09ceb9fc5825d66d3cb7511248a7e5cc3839ca4aedf545b90a1_640.jpg',\n  'https://randompicturegenerator.com/img/dog-generator/g3fbc0540f9e605b32bf473cd0a29b53771097808a97c2f92d6328874738e0235eb75a2720aa9ae985887c8cd282ee5fa_640.jpg',\n];\nconst heroEl = document.querySelector('.hero');\nheroEl.style.backgroundRepeat = 'no-repeat';\nheroEl.style.backgroundPosition = 'center';\nheroEl.style.backgroundSize = 'contain';\nheroEl.style.backgroundImage = `url(${images[0]})`;\n\nfunction getImage(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nconst img = setInterval(() => {\n  const img = getImage(images);\n  // console.log(img);\n  heroEl.style.backgroundImage = `url(${img})`;\n}, 5000);\n"]}